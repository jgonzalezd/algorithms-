{
	"name": "Algorithm Study Environment",
	"dockerComposeFile": "docker-compose.yml",
	"service": "app",
	"workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",

	// Configure tool-specific properties.
	"customizations": {
		// Configure properties specific to VS Code.
		"vscode": {
			// Set *default* container specific settings.json values on container create.
			"settings": {
				"terminal.integrated.defaultProfile.linux": "bash",
				"terminal.integrated.profiles.linux": {
					"bash": {
						"path": "/bin/bash",
						"args": ["-l"]
					}
				},
				"python.defaultInterpreterPath": "/home/vscode/.pyenv/shims/python",
				"python.terminal.activateEnvironment": false,
				"ruby.useLanguageServer": true,
				"ruby.lint": {
					"rubocop": true
				},
				"javascript.suggest.autoImports": true,
				"typescript.suggest.autoImports": true,
				"typescript.preferences.includePackageJsonAutoImports": "auto",
				"typescript.suggest.autoImports": true,
				"typescript.updateImportsOnFileMove.enabled": "always"
			},
			// Add extensions for algorithm development and debugging
			"extensions": [
				"ms-python.python",
				"ms-vscode.vscode-typescript-next",
				"ms-vscode.vscode-json",
				"ms-vscode.vscode-markdown",
				"ms-vscode.vscode-git",
				"ms-vscode.vscode-js-debug",
				"ms-vscode.vscode-js-debug-companion",
				"ms-vscode.debug-auto-launch",
			]
		}
	},

	// Comment out to connect as root instead. More info: https://aka.ms/vscode-remote/containers/non-root.
	"remoteUser": "vscode",

	// Set environment variables for all language managers
	"remoteEnv": {
		"PYENV_ROOT": "/home/vscode/.pyenv",
		"NVM_DIR": "/home/vscode/.nvm",
		"rvm_path": "/home/vscode/.rvm"
	},
	// Mount SSH keys for GitHub access (using environment variable to avoid hardcoding username)
	"mounts": [
		{
			"source": "${localEnv:HOME}/.ssh/github_key",
			"target": "/home/vscode/.ssh/github_key",
			"type": "bind"
		},
		{
			"source": "${localEnv:HOME}/.ssh/github_key.pub",
			"target": "/home/vscode/.ssh/github_key.pub",
			"type": "bind"
		}
	],



	// Post-create command to set up SSH permissions and algorithm aliases
	"postCreateCommand": "bash -c 'mkdir -p /home/vscode/.ssh && chmod 700 /home/vscode/.ssh; if [ -f /home/vscode/.ssh/github_key ]; then chmod 600 /home/vscode/.ssh/github_key && echo \"Host github.com\\n  HostName github.com\\n  User git\\n  IdentityFile /home/vscode/.ssh/github_key\\n  IdentitiesOnly yes\" > /home/vscode/.ssh/config && chmod 600 /home/vscode/.ssh/config && ssh-keyscan github.com >> /home/vscode/.ssh/known_hosts 2>/dev/null; fi; /workspaces/Algorithms/.devcontainer/setup-aliases.sh && npm install -g @types/node && echo \"Algorithm study environment ready!\"'"
} 